all: analizador

analizador: lex.yy.o sintacticoEvaluador.tab.o Datos.o execEval.o evaluador.o
	$(CC) lex.yy.o sintacticoEvaluador.tab.o Datos.o execEval.o -o evaluador.o analizador -lfl -lm

sintacticoEvaluador.tab.c sintacticoEvaluador.tab.h: sintacticoEvaluador.y
	bison -g -d $<

lex.yy.c: lexicoEvaluador.l sintacticoEvaluador.tab.h
	flex --header-file=lexicoEvaluador.h lexicoEvaluador.l

Datos.o: Datos.c Datos.h
	$(CC) -c Datos.c

evaluador.o: evaluador.c
	$(CC) -c evaluador.c
clean:
	rm -f sintacticoEvaluador.tab.c sintacticoEvaluador.tab.h lex.yy.c lexico.h \
	analizador execEval.o Datos.o lex.yy.o sintacticoEvaluador.tab.o sintacticoEvaluador.dot evaluador.o lexicoEvaluador.h

